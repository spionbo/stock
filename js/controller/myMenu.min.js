define(["views/nav","./stockTitle","./stocknav","main/moveEvent","./stock","./search"],function(c,g,a,d,f,j){var i={init:function(){},getTitle:function(){return JSON.parse(T.get_stor("MyMenuTitle"))},setTitle:function(k){T.set_stor("MyMenuTitle",k);e.resize()},getNav:function(){return JSON.parse(T.get_stor("MyMenuNav"))},setNav:function(k){T.set_stor("MyMenuNav",k);e.resize()}},h={title:false,nav:false,init:function(k){h.parent=k;h.parentElement=k.wapper;h.content=k.content;h.stockContent=k.stockContent;h.Dome=$(c);k.wapper.append(h.Dome);h.width=k.width;h.height=k.height;h.setElement();e.init()},resize:function(k){h.width=k.width;h.height=k.height;e.resize()},setElement:function(){var k=h.Dome;h.element={title:$(g),nav:$(a),column:k.find(".stock-column"),list:k.find(".stock-list"),menu:k.find(".stock-myMenu"),mask:k.find(".stock-mask")}}},b={init:function(k){b.elem=k;var l=b.getPosition();b.elem.css({left:l.left+"px",top:l.top+"px"});b.addEvent()},addEvent:function(){new d(h.parentElement,b.elem,"MyMenuPosition")},resize:function(){var m=b.getPosition(),l=h.width-b.elem.width()-2,k=h.height-b.elem.height()-2;if(m.left>l){m.left=l}if(m.top>k){m.top=k}b.elem.css({left:m.left+"px",top:m.top+"px"})},getPosition:function(){var k=T.get_stor("MyMenuPosition");if(void 0!=k){return JSON.parse(k)}else{b.setPosition({left:h.width-50,top:h.height-50});return arguments.callee(arguments)}},setPosition:function(k){T.set_stor("MyMenuPosition",JSON.stringify(k))}},e={init:function(){b.init(h.element.menu);e.addcolumn();e.menuClick=true;h.element.menu.click(function(){e.menuClick=!e.menuClick;if(e.menuClick){e.hide()}else{e.show()}});h.element.mask.click(function(){e.hide();e.menuClick=true});e.update()},resize:function(){b.resize()},getTitleStatus:function(){return i.getTitle()},setTitleStatus:function(k){i.setTitle(k)},update:function(){var l=i.getTitle(),k=i.getNav();h.title=l;h.nav=k;e.navList.removeClass("cur");if(l==true){e.navs.title.addClass("cur");e.showTitle()}else{e.hideTitle()}if(k==true){e.navs.nav.addClass("cur");e.showNav()}else{e.hideNav()}h.parent.resize()},navList:null,addcolumn:function(){var m=$(["<div><p>显示标题</p>","<p>显示栏目</p>","<p>搜索</p>","</div>"].join("")),k,l;e.navList=m.find("p");e.navs={title:e.navList.eq(0),nav:e.navList.eq(1),maimai:e.navList.eq(2),share:e.navList.eq(3),search:e.navList.eq(4)};h.element.list.append(m);e.navList.each(function(n){$(this).click(function(){e.navCurrent=n;switch(n){case 0:l="Title";break;case 1:l="Nav";break;case 2:h.parent.goTab(0);e.menuClick=true;e.hide();break;case 3:break;case 4:}if(n==0||n==1){k=i["get"+l]();k=!k;i["set"+l](k);e.update()}})})},show:function(){h.content.css3({transform:"translate3d(-40%,0,0)"});h.element.mask.css3({zIndex:89});setTimeout(function(){h.element.mask.css3({opacity:1})},50)},hide:function(){h.content.css3({transform:"translate3d(0,0,0)"});h.element.mask.css3({opacity:0});setTimeout(function(){h.element.mask.css3({zIndex:1})},50)},showNav:function(){a.show()},hideNav:function(){a.hide()},showTitle:function(){g.show()},hideTitle:function(){g.hide()},select:{},buy:{show:function(){},hide:function(){}}};return h});